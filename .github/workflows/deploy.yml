name: Deploy to Render

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  deploy:
    name: Deploy Application
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Trigger Render Deployment (Backend)
        if: github.ref == 'refs/heads/main'
        run: |
          echo "ðŸš€ Deploying backend to Render..."
          # Render automatically deploys from GitHub on push to main
          # If you have a deploy hook, uncomment below:
          # curl -X POST ${{ secrets.RENDER_BACKEND_DEPLOY_HOOK }}
          
      - name: Trigger Render Deployment (Frontend)
        if: github.ref == 'refs/heads/main'
        run: |
          echo "ðŸš€ Deploying frontend to Render..."
          # Render automatically deploys from GitHub on push to main
          # If you have a deploy hook, uncomment below:
          # curl -X POST ${{ secrets.RENDER_FRONTEND_DEPLOY_HOOK }}

      - name: Deployment notification
        run: |
          echo "âœ… Deployment triggered successfully!"
          echo "Backend: Check Render dashboard for status"
          echo "Frontend: Check Render dashboard for status"
