generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum TreatmentType {
  BOTULINUM_TOXIN
  CHEMICAL_PEELS
  DERMAL_FILLER
  SKIN_CARE
  OTHER_SERVICES
}

model User {
  user_id       Int      @id @default(autoincrement())
  email         String   @unique
  password_hash String
  role          String   @default("admin")
  created_at    DateTime @default(now())
}

model Service {
  service_id     Int           @id @default(autoincrement())
  name           String
  description    String?
  price_cents    Int
  duration_min   Int
  buffer_min     Int           @default(15)
  is_active      Boolean       @default(true)
  more_info      String?       @db.Text
  treatment_type TreatmentType @default(OTHER_SERVICES)

  @@index([is_active])
  @@index([treatment_type, name])
}

